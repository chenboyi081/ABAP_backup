<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<title>ZGET_USER_NAME</title>
</head>
<body bgcolor="#FFFFE0">
<font size="3" face = "Arial" color="#000000"><b>Code listing for function: ZGET_USER_NAME</b></font>
<br>
<font size="3" face = "Arial" color="#000000"><b>Description:  获取用户名</b></font>
<hr>
<pre width="100">
FUNCTION ZGET_USER_NAME.
<font color ="#0000FF">*"----------------------------------------------------------------------</font>
<font color ="#0000FF">*"*"Local interface:</font>
<font color ="#0000FF">*"  IMPORTING</font>
<font color ="#0000FF">*"     REFERENCE(SYSNAME) TYPE  SYUNAME</font>
<font color ="#0000FF">*"  EXPORTING</font>
<font color ="#0000FF">*"     REFERENCE(USERNAME) TYPE  AD_NAMTEXT</font>
<font color ="#0000FF">*"  EXCEPTIONS</font>
<font color ="#0000FF">*"      NOT_FOUND</font>
<font color ="#0000FF">*"----------------------------------------------------------------------</font>

<font color ="#0000FF">*       <a href ="global-zget_user_name.html">Global data declarations</a></font>

select single name_text
  into username
  from adrp inner join usr21
  on  adrp~PERSNUMBER = usr21~PERSNUMBER
  where usr21~BNAME = sysname.

IF SY-SUBRC &lt;&gt; 0.
   RAISE NOT_FOUND.
ENDIF.


ENDFUNCTION.


<font color ="#0000FF">*Messages</font>
<font color ="#0000FF">*----------------------------------------------------------</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">* Message class: ZPEOPLE</font>
<font color ="#0000FF">*002   系统错误：在表 & 中修改时有错误</font>
</pre>
<hr>
<font size="2" face = "Sans Serif">Extracted by Direct Download Enterprise version 1.3.1 - E.G.Mellodew. 1998-2005 UK. Sap Release 702
</font>
</body>
</html>
